- 2025-11-13 — Implementadas suites T05 (`TeacherDeleteServiceTest`, `TeacherRestoreServiceTest`) cubriendo soft delete, conflictos por materias asociadas, docentes inexistentes y restauración con DTOs activos; `TeacherTestMother` amplificado con `deletedTeacher`.
- 2025-11-13 — Refinadas suites T05 (`TeacherDeleteServiceTest`, `TeacherRestoreServiceTest`) centralizando verificaciones, reutilizando `TeacherTestMother` y asegurando asserts consistentes sobre `deletedAt`.
- 2025-11-13 — Nuevas suites T07 (`TeacherGetServiceTest`, `TeacherListServiceTest`) validando delegación a commons, mapeo a DTO, listas vacías y estructura de respuestas para el módulo Admin Teacher.
- 2025-11-13 — Refinadas suites T07 (`TeacherGetServiceTest`, `TeacherListServiceTest`) agrupando asserts con `extracting`, reutilizando fixtures y asegurando cobertura de listas vacías / DTO activos.
- 2025-11-13 — Generada suite T09 (`TeacherListPaginatedServiceTest`) cubriendo búsqueda, filtros dinámicos, paginación y resultados vacíos mediante mocks estáticos de `PaginatorUtils` y `PaginationHelper`.
- 2025-11-13 — Nuevas suites T11 (`TeacherGetByIdServiceTest`, `TeacherGetByEmailServiceTest`, `TeacherExistsByDniServiceTest`) validando escenarios felices y excepciones (`NotFoundException`, `ConflictException`) sobre servicios commons de Admin Teacher.
- 2025-11-13 — Refinadas suites T03 (`TeacherRegisterServiceTest`, `TeacherUpdateServiceTest`), centralizando builders (`TeacherTestMother`), asserts agrupados y helpers para persistencia simulada; se cumplen criterios de T04.
- 2025-11-13 — Generadas suites T03 (`TeacherRegisterServiceTest`, `TeacherUpdateServiceTest`) cubriendo flujos felices, conflictos por DNI/email y propagación de `NotFoundException`; se añadió `TeacherTestMother` para fixtures compartidos.
- 2025-11-13 — Estrategia T02 del módulo Admin Teacher documentada en `docs/testing/teacher-unit-test-strategy.md`, estableciendo métricas, suites planificadas, riesgos priorizados y secuencia de trabajo.
- 2025-11-13 — Auditoría T01 del módulo Admin Teacher completada en `docs/testing/teacher-unit-tests-audit.md`, inventariando controllers/services/DTOs, dependencias (`IUserCreateService`, `ISubjectExistsByTeacherService`) y riesgos (soft delete sin filtro, specs sin `notDeleted`).
- 2025-11-13 — Planificado plan de pruebas unitarias para Admin Teacher (services, controllers y DTOs), generando JSON con tareas T01–T20 enfocadas en generación/refinamiento de suites, preparación de JaCoCo y reporte automatizado sin escaneos de seguridad.
- 2025-11-12 — Añadidas suites T11 para commons (`StudentGetByIdService`, `StudentGetByEmailService`, `StudentGetByCourseService`) cubriendo rutas felices, propagación de `NotFoundException` y verificación de consultas al repositorio. T11 marcado `done` en `docs/tasks.json`.
- 2025-11-12 — Refinadas suites commons T11 (T12 completada) introduciendo `@BeforeEach`, asserts agrupados y `StudentTestMother.studentWithEmail`, garantizando reutilización consistente. T12 actualizado a `done` en `docs/tasks.json`.
- 2025-11-12 — Refinada suite T09 (T10 completada) para `StudentListPaginatedService`: asserts agrupados, verificación del `Specification` capturado y limpieza de mocks estáticos. T10 marcado `done` en `docs/tasks.json`.
- 2025-11-12 — Implementada suite T09 (`StudentListPaginatedServiceTest`) validando paginación con búsqueda/filtros y páginas vacías mediante `MockedStatic` para `PaginatorUtils`, `StudentSpects`, `StudentMapper` y `PaginationHelper`. T09 marcado `done` en `docs/tasks.json`.
- 2025-11-12 — Refinadas suites T07 (T08 completada) para `StudentGetService` y `StudentsListServices`, añadiendo asserts agrupados (`extracting`), `@BeforeEach` y reutilización de `StudentTestMother`. T08 marcado `done` en `docs/tasks.json`.
- 2025-11-12 — Añadidas suites T07 para `StudentGetService` y `StudentsListServices`, validando flujos felices, propagación de `NotFoundException`, y mapeo de estudiantes eliminados/activos. `docs/tasks.json` actualizado con T07 en estado `done`.
- 2025-11-12 — Refinadas suites T05 (T06 completada) para `StudentDeleteService` y `StudentRestoreService`, agregando asserts del usuario asociado, reutilización de `StudentTestMother.deletedStudent`, y estructura Given-When-Then consistente. `docs/tasks.json` actualizado con T06 en estado `done`.
- 2025-11-12 — Añadidas suites T05 para `StudentDeleteService` y `StudentRestoreService`, cubriendo flujos felices y excepciones (`NotFoundException`), verificando efectos sobre soft delete/restauración y DTO resultante. T05 marcado `done` en `docs/tasks.json`.
- 2025-11-12 — Refinadas suites T03 (T04 completada) para `StudentRegisterService` y `StudentUpdateService`: se introdujo `StudentTestMother`, agrupación por `@Nested`, `@BeforeEach`, helpers reutilizados y asserts Given-When-Then. `docs/tasks.json` actualizado con T04 en estado `done`.
- 2025-11-12 — Generadas suites iniciales T03 para `StudentRegisterService` y `StudentUpdateService`; se cubren flujos felices, conflictos por curso/DNI y propagación de excepciones en `src/test/java/trinity/play2learn/backend/admin/student/services/*`. Actualizado `docs/tasks.json` con T03 en estado `done`.
- 2025-11-12 — Diseño de estrategia T02 para Admin Student finalizado en `docs/testing/student-unit-test-strategy.md`, detallando métricas, suites priorizadas, fixtures y riesgos residuales.
- 2025-11-12 — Completada auditoría T01 del módulo Admin Student; inventario documentado en `docs/testing/student-unit-tests-audit.md` con servicios, controllers, DTOs, dependencias y riesgos.
- 2025-11-12 — Registrado plan de pruebas unitarias para Admin Student en `docs/tasks.json` siguiendo las directrices de `/plan-tasks` (sin escaneo de seguridad); tareas T01–T22 creadas en estado `todo`.
- 2025-11-12 — Generado reporte automatizado `docs/testing/test_admin_subject.md` para Admin Subject vía `scripts/testing_report.py`; el informe consolida cobertura (JaCoCo) y escenarios ejecutados. T23 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Refinado `SubjectDtoValidationTest` reutilizando builders auxiliares y asserts descriptivos para mensajes y paths de violación. T20 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Añadido `SubjectDtoValidationTest` validando anotaciones de `SubjectRequestDto`, `SubjectUpdateRequestDto` y `SubjectAssignTeacherRequestDto`. T19 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Refinadas pruebas de controladores (`SubjectWriteControllersTest`, `SubjectReadControllersTest`) unificando helpers, asserts expresivos y manejo de errores con `GlobalExceptionHandler`. T18 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Implementado `SubjectReadControllersTest` para endpoints de lectura, cubriendo flujos felices, filtros paginados y verificación de payloads. T17 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Refinado `SubjectWriteControllersTest` centralizando setup MockMvc con `GlobalExceptionHandler` y asserts descriptivos para respuestas 2xx/4xx. T16 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Implementado `SubjectWriteControllersTest` cubriendo flujos felices y errores para registro, actualización, eliminación y asignación/desasignación de docentes. T15 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Refinadas suites de consulta (`SubjectGetServiceTest`, `SubjectListServiceTest`, `SubjectListPaginatedServiceTest`) con helpers reutilizados, `@Nested` y asserts descriptivos. T14 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Añadidas pruebas `SubjectGetServiceTest`, `SubjectListServiceTest` y `SubjectListPaginatedServiceTest` validando delegación, mapeo, paginación y filtros dinámicos. T13 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Refinadas pruebas de balance (`SubjectAddBalanceServiceTest`, `SubjectRemoveBalanceServiceTest`, `SubjectRefillBalanceServiceTest`, `SubjectRefillBalanceCronServiceTest`) con helpers reutilizados y asserts descriptivos. T12 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Añadidas pruebas de balance (`SubjectAddBalanceServiceTest`, `SubjectRemoveBalanceServiceTest`, `SubjectRefillBalanceServiceTest`, `SubjectRefillBalanceCronServiceTest`) cubriendo montos inválidos, transacciones de recarga y delegación del cron. T11 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Refinadas pruebas de asignación/desasignación/listado de docentes (`SubjectAssignTeacherServiceTest`, `SubjectUnassignTeacherServiceTest`, `SubjectListTeacherServiceTest`) con helpers reutilizados y asserts descriptivos. T10 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Implementadas `SubjectAssignTeacherServiceTest`, `SubjectUnassignTeacherServiceTest` y `SubjectListTeacherServiceTest` validando asignación, remoción idempotente y listado por docente con manejo de NotFound. T09 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Refinadas `SubjectAddStudentsServiceTest` y `SubjectRemoveStudentsServiceTest` centralizando capturas de sujetos, asserts descriptivos y uso de helpers comunes. T08 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Implementadas `SubjectAddStudentsServiceTest` y `SubjectRemoveStudentsServiceTest` cubriendo adición sin duplicados, listas vacías y remoción selectiva. T07 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Refinadas `SubjectDeleteServiceTest` y `SubjectRestoreServiceTest` agrupando escenarios con `@Nested`, reutilizando helpers y asegurando mensajes Given-When-Then. T06 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Implementada suite T09 `StudentListPaginatedServiceTest` validando búsqueda, filtros y páginas vacías con `MockedStatic` para utilidades y mappers. `docs/tasks.json` actualizado con T09 en estado `done`.
- 2025-11-12 — Refinada suite paginada T10 para Admin Student agregando asserts agrupados, captura del `Specification` enviado al repositorio y limpieza de mocks estáticos. T10 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Añadidas suites commons T11 (`StudentGetByIdServiceTest`, `StudentGetByEmailServiceTest`, `StudentGetByCourseServiceTest`) cubriendo rutas felices y excepciones `NotFoundException`. T11 actualizado a `done` en `docs/tasks.json`.
- 2025-11-12 — Refinadas suites commons T12 utilizando `@BeforeEach`, asserts con `extracting` y helpers de `StudentTestMother`. `docs/tasks.json` refleja T12 como completada.
- 2025-11-12 — Generadas suites T13 (`StudentExistByDNIServiceTest`, `StudentsExistByCourseServiceTest`, `StudentsGetByIdListServiceTest`) validando respuestas booleanas, conflictos por curso y preservación de orden en colecciones. T13 marcado `done` en `docs/tasks.json`.
- 2025-11-12 — Refinadas suites de existencia/colecciones (T14) agregando `@BeforeEach`, asserts agrupados y helpers de `StudentTestMother` para correos/orden. T14 actualizado como completado en `docs/tasks.json`.
- 2025-11-12 — Implementada suite T15 `StudentWriteControllersTest` cubriendo POST/PUT/DELETE/PATCH con escenarios 2xx y errores (404/409) mediante `MockMvc` y `GlobalExceptionHandler`. T15 marcado `done` en `docs/tasks.json`.
- 2025-11-12 — Refinada suite T15 (T16 completada) centralizando helpers `registerRequest`/`updateRequest`, constantes de ruta y asserts agrupados. `docs/tasks.json` actualizado con T16 en estado `done`.
- 2025-11-12 — Añadida suite T17 `StudentReadControllersTest` validando GET/GET list/GET paginado, payloads y errores 404 usando MockMvc standalone. T17 marcado `done` en `docs/tasks.json`.
- 2025-11-12 — Refinada suite T17 (T18 completada) incorporando helpers de respuesta, asserts agrupados y cobertura de listas vacías/404. `docs/tasks.json` actualizado con T18 en estado `done`.
- 2025-11-12 — Implementada suite T19 `StudentDtoValidationTest` validando restricciones Bean Validation para StudentRequestDto y StudentUpdateRequestDto (nombres, emails, DNI, curso). T19 marcado `done` en `docs/tasks.json`.
- 2025-11-12 — Refinada suite T19 (T20 completada) reutilizando builders válidos/ inválidos, asserts agrupados y mensajes descriptivos para cada violación. `docs/tasks.json` actualizado con T20 en estado `done`.
- 2025-11-12 — Ejecutado `./mvnw.cmd org.jacoco:jacoco-maven-plugin:prepare-agent test org.jacoco:jacoco-maven-plugin:report` (T21). Todas las suites pasaron; reporte actualizado en `target/site/jacoco/index.html` con advertencias por clases fuera de alcance (UploadCare, actividades). `docs/tasks.json` registra T21 como completado.
- 2025-11-12 — Añadidas `SubjectDeleteServiceTest` y `SubjectRestoreServiceTest` cubriendo conflicto por alumnos asociados, borrado lógico y restauración con mapper. T05 marcado como completado en `docs/tasks.json`.
- 2025-11-13 — Refinadas suites T11 (`TeacherGetByIdServiceTest`, `TeacherGetByEmailServiceTest`, `TeacherExistsByDniServiceTest`) consolidando asserts `extracting`, reutilizando `TeacherTestMother` y cubriendo mensajes de error (`NotFoundException`, `ConflictException`).
- 2025-11-13 — Implementada suite T13 (`TeacherWriteControllersTest`) cubriendo POST/PUT/DELETE/PATCH con respuestas 2xx y errores 404/409 mediante MockMvc sin filtros de seguridad.
- 2025-11-13 — Implementada suite T15 (`TeacherReadControllersTest`) cubriendo GET/{id}, listado completo y paginado con MockMvc y delegación a servicios.
- 2025-11-13 — Refinadas suites T16 (`TeacherReadControllersTest`) cubriendo listas vacías, búsqueda/filtros y verificación de parámetros en MockMvc.
Plan de pruebas unitarias — Admin Teacher: T01–T16 completadas; siguiente paso T17 (DTO validation) según `docs/tasks.json`.
- 2025-11-13 — Añadidas pruebas de Bean Validation para DTOs de Teacher (`TeacherDtoValidationTest`), cubriendo campos válidos/invalidos y mensajes `ValidationMessages`.
Plan de pruebas unitarias — Admin Teacher: T01–T17 completadas; siguiente paso T18 (refinar validaciones DTO) según `docs/tasks.json`.
- 2025-11-13 — Refinadas validaciones DTO (T18) agregando casos combinados, strings vacíos y patrones inválidos reutilizando helpers.
Plan de pruebas unitarias — Admin Teacher: T01–T18 completadas; siguiente paso T19 (JaCoCo suites) según `docs/tasks.json`.
- 2025-11-13 — Ejecutadas suites Admin Teacher con JaCoCo (T19) tras refactor de tests controllers/DTO; cobertura actualizada en `target/site/jacoco/index.html`.
Plan de pruebas unitarias — Admin Teacher: T01–T19 completadas; siguiente paso T20 (reporte automatizado) según `docs/tasks.json`.
- 2025-11-13 — Generado reporte automatizado del módulo Admin Teacher (`docs/testing/test_admin_teacher.md`) tras ejecutar script estándar; incluye métricas de cobertura y escenarios cubiertos.
Plan de pruebas unitarias — Admin Teacher: T01–T20 completadas; plan listo para cierre.
# Active Context — Admin Panel for Agents

## Overall Objective
Build an admin panel at a separate route using Vue 3 + Vuetify to allow non-technical users to perform CRUD on agents and groups, reorder them, validate inputs, and import/export the catalog JSON. Gate access with a basic secret-key check. Persist changes via export/import (and optional LocalStorage drafts) given the static deployment.

## Current Task
Plan de pruebas unitarias — Admin Teacher: T01–T16 completadas; siguiente paso T17 (controllers de lectura) según `docs/tasks.json`.
- 2025-11-09 — Generado diagrama Mermaid completo del flujo de venta de acciones (`cu90sellStock`) desde `StockSellController`. El diagrama (`docs/diagrams/stock-sell-sequence.md`) detalla la validación de sesión (`JwtSessionAspect`, `SessionUserArgumentResolver`), cálculo de acciones disponibles vía `StockCalculateByWalletService` (iterando órdenes ejecutadas), creación de la orden de venta, generación de transacción mediante la estrategia `StockTransactionService` (con actualización de reserva y saldo del wallet), reversión de acciones a disponibles (`StockMoveService`), actualización específica del stock (`StockUpdateSpecificService`) y recálculo del balance invertido del wallet (`WalletUpdateInvestedBalanceService` con descomposición por tipo de inversión). Se documenta la respuesta HTTP 201 emitida por `ResponseFactory.created`. Actualizado `docs/diagrams/README.md` pendiente de sincronización en una iteración posterior.
- 2025-11-10 — Generado diagrama Mermaid completo del flujo de finalización automática de plazos fijos (`cu95fixedTermDepositAutomaticEnds`) desde `FixedTermDepositAutomaticEndsService`. El diagrama (`docs/diagrams/fixed-term-deposit-automatic-ends-sequence.md`) detalla el proceso automático ejecutado diariamente a las 1:30 AM mediante `@Scheduled`, incluyendo la obtención de plazos fijos en progreso, verificación de fechas vencidas, cambio de estado a FINISHED, generación de transacciones mediante estrategia `FixedTermDepositTransactionService` (Strategy Pattern) para retorno del capital al wallet, movimiento de fondos desde reserva a circulación y actualización del balance invertido del wallet. Creados diagramas de entidades (`FixedTermDeposit`, `Wallet`, `Transaction`, `Reserve`) en `docs/diagrams/fixed-term-deposit-automatic-ends-entities/`. Actualizado `docs/diagrams/README.md` con documentación completa del flujo.
- 2025-11-10 — Documentado el flujo `cu89CountByStudentState` desde `BenefitStudentCountController` mediante el diagrama de secuencia `docs/diagrams/benefit-student-count-sequence.md`. Incluye la validación JWT (`JwtSessionAspect`), la resolución del usuario de sesión (`SessionUserArgumentResolver`), la obtención del estudiante por email, la recopilación de beneficios asociados a sus materias, el conteo de compras usadas y la clasificación en listas (disponibles, comprados, uso solicitado, expirados) antes de construir la respuesta `BenefitStudentCountResponseDto` con `BenefitMapper.tCountResponseDto`.
- 2025-11-10 — Generado diagrama Mermaid del flujo `cu93ListUsedByStudent` desde `BenefitListUsedByStudentController`. El archivo `docs/diagrams/benefit-list-used-by-student-sequence.md` detalla la validación JWT (`JwtSessionAspect`), la resolución del usuario de sesión (`SessionUserArgumentResolver`), la obtención del estudiante mediante `StudentGetByEmailService`, la consulta de beneficios usados (`IBenefitPurchaseRepository.findAllByStudentAndStateAndDeletedAtIsNull`) y el mapeo a `BenefitPurchasedUsedResponseDto` con `BenefitPurchaseMapper`, cerrando el caso con `ResponseFactory.ok`.
- 2025-11-10 — Documentado el flujo `cu94DeleteBenefit` desde `BenefitDeleteController` mediante el diagrama `docs/diagrams/benefit-delete-sequence.md`. Incluye la validación JWT (`JwtSessionAspect`), resolución del usuario de sesión (`SessionUserArgumentResolver`), verificación de pertenencia del beneficio al docente, iteración de compras activas con reembolsos a través de `TransactionGenerateService` y la estrategia `ReembolsoTransactionService`, además del marcado lógico de eliminación (`deletedAt`) y respuesta `ResponseFactory.noContent`.
- 2025-11-10 — Documentado el flujo `cu102registerSavingAccount` desde `SavingAccountRegisterController` mediante el diagrama `docs/diagrams/saving-account-register-sequence.md`. Incluye la validación JWT y resolución de usuario en la capa de controlador, las verificaciones de saldo y unicidad de nombre, la generación de la transacción con la estrategia `DepositSavingAccountTransactionService`, el ajuste de reservas y wallet, y el recálculo del balance invertido antes de responder con `ResponseFactory.created`.
- 2025-11-12 — Refinadas `SubjectRegisterServiceTest` y `SubjectUpdateServiceTest` reutilizando `SubjectTestMother`, nombres Given-When-Then y verificaciones AssertJ. Se eliminaron duplicados y se centralizaron fixtures; T04 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Implementadas suites `SubjectRegisterServiceTest` y `SubjectUpdateServiceTest` validando registros obligatorios, duplicados y docentes inexistentes; listas de estudiantes preservadas y balances iniciales en 0 verificados. T03 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Definida estrategia de pruebas unitarias para Admin Subject en `docs/testing/subject-unit-test-strategy.md`, cubriendo métricas, riesgos, suites planificadas y fixtures compartidos. T02 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Auditados controllers/services/DTOs de Admin Subject; inventario, validaciones y dependencias documentadas en `docs/testing/subject-unit-tests-audit.md`. T01 marcado como completado en `docs/tasks.json`.
- 2025-11-12 — Registrado plan de pruebas unitarias para Admin Subject en `docs/tasks.json` siguiendo enfoque en services/controllers/DTOs, con refinamientos posteriores, escaneo de seguridad, ejecución con JaCoCo y generación del reporte automatizado.
- 2025-11-11 — Elaborado template de solicitud para `/plan-tasks` orientado a planes de testing siguiendo `.cursor/commands/testing.md`, enfatizando cobertura de services/controllers/DTOs y exclusión de models/repositories/mappers/specs.
- 2025-11-11 — Ejecutado orquestador de pruebas para `admin/course`: actualizado `docs/tasks.json` con plan específico para services/controllers/DTOs, corrida `./mvnw.cmd ... jacoco:report` con 42 tests (14 omitidos) y cobertura del módulo `admin/course` en 0 %. Generado reporte `docs/testing/test_admin_course.md` vía `scripts/testing_report.py`.
- 2025-11-11 — Documentado el flujo `cu109ListUsedPaginated` desde `BenefitListUsedPaginatedController` en `docs/diagrams/benefit-list-used-paginated-sequence.md`. El diagrama detalla la validación JWT mediante `JwtSessionAspect`, la resolución del usuario de sesión con `SessionUserArgumentResolver`, la obtención del `Student` asociado (`StudentGetByEmailService` + `IStudentRepository`), la construcción de `Pageable` (`PaginatorUtils`), la creación de especificaciones combinadas (`BenefitPurchasesSpecs` con filtros dinámicos y estado `USED`), la consulta en `IBenefitPurchasePaginatedRepository`, el mapeo a `BenefitPurchasedUsedResponseDto` utilizando `BenefitPurchaseMapper`, la generación de `PaginatedData` con `PaginationHelper` y la respuesta paginada emitida por `ResponseFactory.paginated` con `SuccessfulMessages.okSuccessfully()`. `docs/diagrams/README.md` e `IMPLEMENT.md` actualizados con la nueva referencia.
- 2025-11-11 — Documentada auditoría de servicios/controladores/DTOs de `admin/course` en `docs/testing/admin-course-unit-tests-audit.md` (T01 completada). El informe cubre responsables, validaciones, dependencias y riesgos sin pruebas.
- 2025-11-11 — Definida estrategia de pruebas unitarias para `admin/course` en `docs/testing/course-unit-test-strategy.md` (T02 completada), con matriz de riesgo, suites planificadas, fixtures compartidos y métricas de cobertura.
- 2025-11-11 — Añadidas suites `CourseRegisterServiceTest` y `CourseUpdateServiceTest` cubriendo escenarios felices, conflictos y propagación de `NotFoundException`. T03 marcado como completado tras generar y validar las nuevas pruebas.
- 2025-11-11 — Refinadas las suites `CourseRegisterServiceTest` y `CourseUpdateServiceTest` con constantes compartidas, helpers reutilizables y comentarios Given-When-Then, garantizando mensajes descriptivos y verificaciones de interacciones (T04 completada).
- 2025-11-11 — Implementadas pruebas `CourseDeleteServiceTest` y `CourseCommonServicesTest` cubriendo soft delete, asociaciones con estudiantes/materias, propagación de `NotFoundException` y validaciones comunes (`CourseExistByService`, `CourseGetByIdService`, `CourseExistByYearService`). T05 actualizado a completado.
- 2025-11-11 — Refinadas las suites de eliminación y servicios comunes (`CourseDeleteServiceTest`, `CourseCommonServicesTest`) introduciendo helpers reutilizables, `@BeforeEach` por escenario y aserciones expresivas para `deletedAt` y excepciones. T06 finalizado.
- 2025-11-11 — Generadas pruebas para servicios de obtención y listados (`CourseGetServiceTest`, `CourseListServiceTest`, `CourseListPaginatedServiceTest`) validando delegación, conversión a DTO, manejo de búsqueda/filtros y preparación de paginación con `CourseSpecs`, `PaginatorUtils` y `PaginationHelper`. T07 marcado como completado.
- 2025-11-11 — Refinadas las suites de obtención y listados con helpers compartidos (`buildPaginatedData`, `@BeforeEach` para fixtures) y aserciones AssertJ expresivas (`containsExactly`, verificaciones de DTO). T08 actualizado a completado.
- 2025-11-11 — Implementado `CourseWriteControllersTest` cubriendo controladores de escritura (registro, actualización, eliminación) con `MockMvc`, respuestas exitosas y errores 404/409/401. Mocks inyectados vía configuración de prueba (`@TestConfiguration`). T09 completado.
- 2025-11-11 — Implementado `CourseReadControllersTest` para endpoints de lectura, validando respuestas 200 con listas/paginación, filtrado vía query params y errores 404/401. Se utilizaron beans simulados con Mockito en `@TestConfiguration`. T10 marcado como completado.
- 2025-11-11 — Añadido `CourseDtoValidationTest` verificando restricciones de Bean Validation para `CourseRequestDto` y `CourseUpdateDto` (campos vacíos, longitud, caracteres inválidos y año nulo), asegurando que los mensajes coincidan con `ValidationMessages`. T11 completado.
- 2025-11-11 — Refinadas suites de controllers y DTOs (`CourseWriteControllersTest`, `CourseReadControllersTest`, `CourseDtoValidationTest`) incorporando fixtures compartidos, verificaciones de payload (`MockMvcResult`) y asegurando mensajes de validación consistentes. T12 marcado como completado.
- 2025-11-11 — Actualizado `docs/tasks.json` con plan de testing para `admin/course` centrado en services/controllers/DTOs. El plan incluye tareas de generación y refinamiento por bloques, escaneo de seguridad con Dependency-Check, ejecución con JaCoCo (`prepare-agent test report`) y automatización del reporte vía `scripts/testing_report.py`.
- 2025-11-11 — Elaborado plan estratégico de pruebas unitarias para el módulo Admin Year y registrado en `docs/tasks.json`, cubriendo servicios, mappers, entidad y especificaciones con pasos de refinamiento, escaneo de seguridad y ejecución de suite.
- 2025-11-11 — Auditoría del módulo Admin Year completada y documentada en `docs/testing/year-unit-tests-audit.md`, con diagrama de dependencias, inventario de casos de uso y lista de validaciones/excepciones críticas para guiar la futura suite unitaria.
- 2025-11-11 — Estrategia de pruebas unitarias del módulo Admin Year creada en `docs/testing/year-unit-test-strategy.md`, detallando objetivos, alcance, riesgos, métricas, matriz de casos y organización de suites; tareas T01 y T02 marcadas como completadas en `docs/tasks.json`.
- 2025-11-11 — Implementadas y ejecutadas pruebas unitarias para `YearRegisterService` y `YearUpdateService` (`YearRegisterServiceTest`, `YearUpdateServiceTest`), abarcando flujos felices y excepciones (`ConflictException`, `NotFoundException`); tarea T03 marcada como completada en `docs/tasks.json`.
- 2025-11-11 — Refinadas las pruebas `YearRegisterServiceTest` y `YearUpdateServiceTest` empleando `@Nested`, helpers reutilizables y mensajes consistentes; suites reejecutadas y validadas. T04 finalizada y registrada en `docs/tasks.json`.
- 2025-11-11 — Añadidas pruebas unitarias `YearDeleteServiceTest` cubriendo ID inválido, registros ya eliminados, asociaciones con cursos y borrado lógico exitoso; ejecución verificada con `mvn test`. T05 cerrada en `docs/tasks.json`.
- 2025-11-11 — Refinadas las pruebas `YearDeleteServiceTest` agrupando escenarios con `@Nested`, reutilizando helpers y verificando interacciones; suite reejecutada con éxito. T06 marcada como completada en `docs/tasks.json`.
- 2025-11-11 — Implementadas pruebas para `YearListService`, `YearListPaginatedService` y `YearGetService` (clases `YearListServiceTest`, `YearListPaginatedServiceTest`, `YearGetServiceTest`), usando `mockStatic` para utilidades y validando combinaciones de filtros/paginación. T07 completada y registrada en `docs/tasks.json`.
- 2025-11-11 — Refinadas las pruebas de listado (`YearListServiceTest`, `YearListPaginatedServiceTest`) y obtención (`YearGetServiceTest`) con helpers reutilizables y agrupación por `@Nested`, confirmando estabilidad con ejecución repetible; T08 actualizada como completada en `docs/tasks.json`.
- 2025-11-11 — Añadidas pruebas para servicios comunes (`YearExistServiceTest`, `YearGetByIdServiceTest`) y especificaciones (`YearSpecsTest`), validando escenarios felices, excepciones y predicados generados con `CriteriaBuilder`. T09 marcada como completada en `docs/tasks.json` tras ejecutar suites dirigidas.
- 2025-11-11 — Refinadas las suites `YearExistServiceTest`, `YearGetByIdServiceTest` y `YearSpecsTest` incorporando constantes compartidas, agrupación por `@Nested`, supresiones específicas y comparaciones explícitas de predicates; se mantienen cubiertos los escenarios negativos. T10 actualizada a completada en `docs/tasks.json`.
- 2025-11-11 — Añadidas pruebas para `YearMapper` y el modelo `Year` (`YearMapperTest`, `YearModelTest`), verificando conversiones `toModel`/`toDto`/`toListDto` y los métodos `delete`/`restore`. T11 marcada como completada en `docs/tasks.json` tras ejecutar suites dedicadas.
- 2025-11-11 — Refinadas las pruebas `YearMapperTest` y `YearModelTest` con helpers compartidos, constantes descriptivas y aserciones robustas sobre `deletedAt`; ejecuciones repetibles validadas. T12 actualizada como completada en `docs/tasks.json`.
- 2025-11-11 — Se pospuso la ejecución del escaneo de dependencias (T13) a solicitud del usuario; se conservaron comandos de referencia en `docs/tasks.json` para retomarlo cuando sea necesario.
- 2025-11-11 — Ejecutado `./mvnw.cmd org.jacoco:jacoco-maven-plugin:prepare-agent test org.jacoco:jacoco-maven-plugin:report` tras refactorizar los tests WebMvc de Admin Course; 87 pruebas ejecutadas (14 omitidos legacy), cobertura ≥ 95 % en services/controllers/DTOs y reporte disponible en `target/site/jacoco/index.html`. T14 marcado como completado en `docs/tasks.json`.
- 2025-11-11 — Generado reporte automatizado de pruebas para Admin Course con `python scripts/testing_report.py --module "admin/course" --output "docs/testing/test_admin_course.md"`; cobertura y escenarios consolidados en el archivo. T15 completada.
- 2025-11-11 — Documentado el flujo `cu110calculateTotalInvested` desde `InvestemtCalculateTotalInvestedService` en `docs/diagrams/investment-total-invested-sequence.md`. El diagrama captura el cálculo consolidado de inversiones en acciones (`StockCalculateAmountInvestedService` + `StockCalculateByWalletService`), plazos fijos (`FixedTermDepositCalculateAmountInvestedService`) y cajas de ahorro (`SavingAccountCalculateAmountInvestedService`), así como la actualización final del wallet con `WalletUpdateInvestedBalanceService` e `IWalletRepository.save`. `docs/diagrams/README.md` e `IMPLEMENT.md` referencian el nuevo recurso.
- 2025-11-10 — Documentado el flujo `cu108ListUseRequestedPaginated` desde `BenefitListUseRequestedPaginatedController` en `docs/diagrams/benefit-list-use-requested-paginated-sequence.md`. El diagrama detalla la validación JWT con `JwtSessionAspect`, la resolución del usuario mediante `SessionUserArgumentResolver`, la obtención del docente con `TeacherGetByEmailService`, la construcción de la paginación con `PaginatorUtils`, la especificación combinada de `BenefitPurchasesSpecs` (filtros por docente, estado `USE_REQUESTED`, búsqueda y filtros dinámicos), la consulta a `IBenefitPurchasePaginatedRepository`, el mapeo a `BenefitPurchaseSimpleResponseDto` con `BenefitPurchaseMapper`, la creación del `PaginatedData` con `PaginationHelper` y la respuesta paginada mediante `ResponseFactory.paginated`. `docs/diagrams/README.md` e `IMPLEMENT.md` actualizados con la nueva referencia.
- 2025-11-10 — Documentado el flujo `cu107updateSavingAccounts` desde `SavingAccountUpdateService` en `docs/diagrams/saving-account-update-sequence.md`. El diagrama describe la ejecución programada diaria (`@Scheduled`), el cálculo y acumulación del interés del 0.1% para cajas de ahorro desactualizadas, la persistencia de los cambios con `ISavingAccountRepository.save` y el recálculo del saldo invertido del wallet mediante `WalletUpdateInvestedBalanceService` (sumando montos de acciones, plazos fijos y cajas de ahorro). `docs/diagrams/README.md` e `IMPLEMENT.md` actualizados con la nueva referencia.
- 2025-11-10 — Documentado el flujo `cu106listPaginatedSavingAccounts` desde `SavingAccountListPaginatedController` en `docs/diagrams/saving-account-list-paginated-sequence.md`, detallando validación JWT, construcción del `Pageable`, aplicación de filtros dinámicos con `SavingAccountSpecs`, mapeo a `SavingAccountResponseDto` y respuesta paginada con `ResponseFactory.paginated`. Se actualizaron `docs/diagrams/README.md` e `IMPLEMENT.md` con las nuevas referencias.
- 2025-11-10 — Documentado el flujo `cu105deleteSavingAccount` desde `SavingAccountDeleteController` mediante el diagrama `docs/diagrams/saving-account-delete-sequence.md`, detallando validación JWT y resolución de usuario, verificación de pertenencia de la caja de ahorro, ejecución condicional de la estrategia `WithdrawalSavingAccountTransactionService`, recalculo del saldo invertido del wallet y respuesta 204 a través de `ResponseFactory.noContent`. `docs/diagrams/README.md` e `IMPLEMENT.md` actualizados con la referencia.
- 2025-11-10 — Documentado el flujo `cu103depositSavingAccount` desde `SavingAccountDepositController` con el diagrama de secuencia `docs/diagrams/saving-account-deposit-sequence.md`, reflejando validaciones de sesión, verificación de pertenencia, generación de transacción `INGRESO_CAJA_AHORRO`, recálculo del saldo invertido y respuesta 201 mediante `ResponseFactory.created`. `docs/diagrams/README.md` actualizado con la nueva referencia.
- 2025-11-10 — Documentado el flujo `cu104withdrawalSavingAccount` desde `SavingAccountWithdrawalController` mediante el diagrama `docs/diagrams/saving-account-withdrawal-sequence.md`, detallando validaciones de sesión, verificación de pertenencia, aplicación de la estrategia `WithdrawalSavingAccountTransactionService`, ajuste de reserva y wallet, recálculo del saldo invertido y respuesta 201 con `ResponseFactory.created`. `docs/diagrams/README.md` e `IMPLEMENT.md` actualizados con la nueva referencia.
- 2025-11-10 — Documentado el diagrama de clases global con todas las entidades JPA y enumeraciones del backend en `docs/diagrams/project-entities-class-diagram.md`, incluyendo relaciones entre dominios académicos, actividades, beneficios, economía e inversiones.
- 2025-11-10 — Actualizado `Diagramas de Clase/conversor.py` para permitir conversión parametrizable de SVG a JPG con manejo de DPI, color de fondo y limpieza del archivo temporal.
- 2025-11-10 — Ajustado `Diagramas de Clase/conversor.py` para forzar el backend nativo `renderPM` de ReportLab y evitar dependencias de Cairo al rasterizar SVG.
- 2025-11-10 — Establecido `Diagrama de Clases V9.svg` como archivo SVG predeterminado al ejecutar `Diagramas de Clase/conversor.py`.
- 2025-11-10 — Generado diagrama Mermaid completo del flujo `cu99ListPaginatedFixedTermDeposits` desde `FixedTermDepositListPaginatedController`. El diagrama (`docs/diagrams/fixed-term-deposit-list-paginated-sequence.md`) detalla la validación JWT (`JwtSessionAspect`), la paginación con `PaginatorUtils`, los filtros dinámicos con `FixedTermDepositSpecs`, la consulta paginada en `IFixedTermDepositRepository`, el mapeo a `FixedTermDepositResponseDto` y la respuesta paginada mediante `ResponseFactory.paginated`. `docs/diagrams/README.md` actualizado con la nueva referencia.
- 2025-11-10 — Documentado el flujo `cu101ListPurchasesPaginated` desde `BenefitListPurchasesPaginatedController` mediante el diagrama `docs/diagrams/benefit-list-purchases-paginated-sequence.md`. Se detalla la validación JWT (`JwtSessionAspect`), la resolución del usuario de sesión (`SessionUserArgumentResolver`), la verificación de pertenencia del beneficio al docente (`TeacherGetByEmailService` + `BenefitGetByIdService`) y la construcción de la paginación con `PaginatorUtils`, `BenefitPurchasesSpecs`, `IBenefitPurchasePaginatedRepository`, `BenefitPurchaseMapper` y `PaginationHelper`. `docs/diagrams/README.md` actualizado con la nueva referencia.
- 2025-11-10 — Generado diagrama Mermaid completo del flujo `cu98ListPurchasesByBenefitId` desde `BenefitListPurchasesController`. El archivo (`docs/diagrams/benefit-list-purchases-sequence.md`) documenta la validación JWT con `JwtSessionAspect`, la resolución del usuario docente mediante `SessionUserArgumentResolver`, la verificación de pertenencia del beneficio al docente y el listado de compras (`BenefitPurchaseMapper.toSimpleDtoList`). `docs/diagrams/README.md` actualizado con la nueva referencia.
- 2025-11-10 — Documentado el flujo `cu100GetStock` desde `StockGetController` con el diagrama de secuencia `docs/diagrams/stock-get-sequence.md`, detallando la validación de sesión (`JwtSessionAspect`, `SessionUserArgumentResolver`), la obtención del stock por ID (`StockFindByIdService`), la recuperación del wallet estudiantil (`StudentGetByEmailService`), el cálculo de acciones ejecutadas (`StockCalculateByWalletService`), la consulta de órdenes pendientes (`OrderFindPendingService`) y la generación de la respuesta `StockResponseDto` mediante `StockMapper`. `docs/diagrams/README.md` actualizado con el nuevo flujo.
- 2025-11-09 — Generado diagrama Mermaid completo del flujo de compra de acciones (`cu84buystocks`) desde `StockBuyController`. El diagrama (`docs/diagrams/stock-buy-sequence.md`) detalla la validación de sesión (`JwtSessionAspect`, `SessionUserArgumentResolver`), obtención de wallet estudiantil, validaciones de stock y saldo, persistencia de órdenes con `OrderMapper`, generación de transacciones mediante la estrategia `StockTransactionService`, actualización específica del stock (variación, historial, órdenes stop) y recalculo del balance invertido del wallet. Actualizado `docs/diagrams/README.md` con la nueva referencia.
- 2025-11-09 — Generado diagrama Mermaid completo del flujo de registro de orden stop de acciones (`cu91registerStopStock`) desde `StockRegisterStopController`. El diagrama (`docs/diagrams/stock-register-stop-sequence.md`) documenta la validación JWT previa, resolución de usuario de sesión, validaciones de cantidad disponible con `StockCalculateByWalletService`, creación de la orden stop vía `OrderMapper.toStopEntity`, persistencia en `IOrderRepository` con estado `PENDIENTE` y construcción de la respuesta 201 mediante `ResponseFactory.created`. Actualizado `docs/diagrams/README.md` con la referencia correspondiente.
- 2025-11-06 — Generado diagrama Mermaid completo del flujo de listado paginado de acciones (`cu87ListPaginatedStock`) desde `StockListPaginatedController`. Creado diagrama de secuencia detallado (`docs/diagrams/stock-list-paginated-sequence.md`) que documenta el proceso completo: validación de sesión y permisos mediante `JwtSessionAspect` (interceptor), validación del JWT token (expiración, firma, usuario activo mediante `UserExistsByEmailService` y `UserExistService`, validación de roles), construcción del objeto `Pageable` mediante `PaginatorUtils.buildPageable`, construcción de especificaciones JPA (`Specification<Stock>`) mediante `StockSpecs` (búsqueda por texto con `nameContains` y filtros genéricos con `genericFilter`), búsqueda paginada con filtros dinámicos mediante `IStockRepository.findAll(spec, pageable)`, conversión de entidades a DTOs mediante `StockMapper.toDtoList`, construcción del objeto `PaginatedData` mediante `PaginationHelper.fromPage`, y construcción de la respuesta HTTP 200 OK mediante `ResponseFactory.paginated`. El diagrama incluye todas las capas: Interceptor → Controller → Service → Utils → Specs → Repository → Mapper → Helper → Factory, y muestra el flujo completo de autenticación, autorización, paginación y filtrado. Actualizado `docs/diagrams/README.md` con documentación completa del flujo de listado paginado de acciones.
- 2025-11-06 — Generado diagrama Mermaid completo del flujo de listado de acciones (`cu86listStocks`) desde `StockListController`. Creado diagrama de secuencia detallado (`docs/diagrams/stock-list-sequence.md`) que documenta el proceso completo: validación de sesión y permisos mediante `JwtSessionAspect` (interceptor), validación del JWT token (expiración, firma, usuario activo mediante `UserExistsByEmailService` y `UserExistService`, validación de roles), obtención de todas las acciones mediante `IStockRepository.findAll()`, conversión de entidades a DTOs mediante `StockMapper.toDtoList`, y construcción de la respuesta HTTP 200 OK mediante `ResponseFactory.ok`. El diagrama incluye todas las capas: Interceptor → Controller → Service → Repository → Mapper, y muestra el flujo completo de autenticación y autorización. Actualizado `docs/diagrams/README.md` con documentación completa del flujo de listado de acciones.
- 2025-11-06 — Generado diagrama Mermaid completo del flujo de obtención de valores candlestick de una acción (`cu83GetValuesCandleStick`) desde `StockCandleStickGetController`. Creado diagrama de secuencia detallado (`docs/diagrams/stock-candlestick-get-sequence.md`) que documenta el proceso completo: validación de sesión y permisos mediante `@SessionRequired`, búsqueda de la acción por ID con validación de existencia, cálculo del rango de fechas según el `RangeValue` proporcionado (DIARIO, SEMANAL, QUINZENAL, MENSUAL, HISTORICO), búsqueda del historial según el rango (completo o por rango de fechas), procesamiento de cada registro histórico para calcular los valores candlestick (open, close, high, low) con componentes aleatorios, conversión de valores a DTOs mediante `StockHistoryMapper.toCandleStickValueDto`, y construcción de la respuesta HTTP 200 OK. Actualizado `docs/diagrams/README.md` con documentación completa del flujo de obtención de valores candlestick.
- 2025-11-06 — Generado diagrama Mermaid completo del flujo de listado de historial de acciones (`cu79getStockHistories`) desde `StockHistoryListByStockController`. Creado diagrama de secuencia detallado (`docs/diagrams/stock-history-list-sequence.md`) que documenta el proceso completo: validación de sesión y permisos, búsqueda de la acción por ID con validación de existencia, búsqueda del historial ordenado por fecha de creación ascendente, conversión de entidades a DTOs mediante `StockHistoryMapper`, y construcción de la respuesta HTTP 200 OK. Generados diagramas de entidades (Stock, StockHistory) y DTOs (StockHistoryResponseDto) en directorios separados. Actualizado `docs/diagrams/README.md` con documentación completa del flujo de listado de historial de acciones.
- 2025-11-06 — Generado diagrama Mermaid completo del flujo de actualización de stocks (`cu78updateStock`) desde `StockUpdateService`. Creado diagrama de secuencia detallado (`docs/diagrams/stock-update-sequence.md`) que documenta el proceso automático ejecutado mediante scheduler (todos los días a la 1:00 AM). El flujo incluye: cálculo de variación de precios basado en riesgo, tendencia y ventas recientes; actualización de precios con límites superior e inferior; ejecución de órdenes stop (pérdida/ganancia) pendientes; generación de transacciones mediante Strategy Pattern (StockTransactionService); movimiento de acciones entre estados (vendidas ↔ disponibles); y actualización del saldo invertido de los wallets. Generados diagramas de entidades (Stock, StockHistory, Order, Wallet, Transaction, Reserve) en `docs/diagrams/stock-update-entities/`. Actualizado `docs/diagrams/README.md` con documentación completa del flujo de actualización de stocks.
- 2025-11-06 — Generado diagrama Mermaid completo del flujo de registro de acciones (`cu77registerStock`) desde `StockRegisterController`. Creado diagrama de secuencia detallado (`docs/diagrams/stock-register-sequence.md`) que incluye todas las capas: Controller → Service → Repository → Mapper. El flujo documenta la creación de la entidad Stock y su historial inicial (StockHistory) con todas las validaciones y transaccionalidad. Generados diagramas de entidades (Stock, StockHistory) y DTOs (StockRegisterRequestDto, StockResponseDto) en directorios separados. Actualizado `docs/diagrams/README.md` con documentación completa del flujo de registro de acciones.
- 2025-11-06 — Generado diagrama Mermaid completo del flujo de registro de plazo fijo (`cu92registerFixedTermDeposit`) desde `FixedTermDepositRegisterController`. Creado diagrama de secuencia detallado (`docs/diagrams/fixed-term-deposit-register-sequence.md`) que incluye todas las capas: Controller → Service → Repository → Mapper → Strategy (FixedTermDepositTransactionService). Generados diagramas de entidades (FixedTermDeposit, Wallet, Student, Transaction, Reserve) y DTOs (FixedTermDepositRegisterRequestDto, FixedTermDepositResponseDto) en directorios separados. Actualizado `docs/diagrams/README.md` con documentación completa del flujo.
- 2025-11-06 — Documentado flujo de registro de plazo fijo (`cu92registerFixedTermDeposit`) con diagramas Mermaid en `docs/diagrams/fixed-term-deposit-register.md` y referencia añadida en `docs/diagrams/README.md`.
- 2025-10-31 — Agent `/task_executor`: Completed T04 - Refined `AdminLoginView.vue` with comprehensive input sanitization (XSS/injection prevention), rate limiting (5 attempts/30s lockout), constant-time secret comparison (timing attack resistance), WCAG 2.1 AA accessibility (ARIA labels, live regions, keyboard navigation, high contrast), enhanced error boundaries (no sensitive logging), security monitoring composable, and responsive design matching app theme with security-focused UX patterns.
- 2025-10-31 — Agent `/task_executor`: Completed T03 - Implemented admin authentication system with `AdminLoginView.vue` (secure password input, VITE_ADMIN_SECRET comparison, session management), comprehensive router configuration (`src/router/index.js`) with navigation guards and route protection, and `AdminDashboardView.vue` placeholder with responsive UI structure, navigation drawer, and admin session monitoring.
- 2025-10-31 — Agent `/task_executor`: Completed T02 - Refined `src/utils/catalogSchema.js` with enhanced TypeScript-style JSDoc documentation, user-friendly error formatting, batch validation utilities, semantic constraint checking, performance optimizations, and adherence to Vue.js project conventions.
- 2025-10-31 — Agent `/task_executor`: Completed T01 - Created `src/utils/catalogSchema.js` with comprehensive JSON schema validation for groups and agents, including AJV integration, unique ID validation, cross-reference checking, and user-friendly error formatting.
- 2025-10-31 — Agent `/clarify`: Completed user interview and recorded `docs/clarification_notes.md`.
- 2025-10-31 — Agent `/define`: Created `docs/feature_brief.md`.
- 2025-10-31 — Agent `/plan`: Created detailed strategic plan with 24 tasks, quality gates, and risk mitigation using /plan-tasks protocol.
- 2025-10-31 — Agent `/document`: Created comprehensive implementation documentation with 5 Mermaid diagram types in `docs/diagrams/` and `IMPLEMENT.md` guide.
- 2025-10-31 — Agent `/utility`: Created markdown renderer tool (`tools/markdown-renderer.js`) that converts MD files to HTML with Mermaid diagram rendering and auto-opens in browser. Added npm script `render-md` for easy usage.
- 2025-10-31 — Enhancement: Added pure JS pan/zoom controls to Mermaid SVGs in renderer output for better navigation of large diagrams.
- 2025-10-31 — Enhancement: Rewrote pan/zoom using SVG viewBox (no reparenting), added visible +/-/reset controls; diagrams keep alignment and zoom works around cursor.
- 2025-10-31 — Agent `/utility`: Rendered documentation in browser (`docs/feature_brief.md`, `docs/active_context.md`, `docs/architecture_decisions.md`, `docs/diagrams/architecture.md`, `docs/diagrams/component-interaction.md`).

## Constraints & Notes
- Catalog currently loaded from `public/agents_catalog.json`.
- No backend available; runtime writes to server files are not supported in static hosting. Provide export/import workflow and document deployment replacement of JSON.
- Basic admin secret will use build-time env (e.g., `VITE_ADMIN_SECRET`).
- Created comprehensive catalog schema validator in `src/utils/catalogSchema.js` with AJV support for robust data validation, enhanced with user-friendly error handling and batch processing capabilities.
- Admin authentication implemented with session-based security (30-minute sessions, 24-hour max age), router guards, constant-time comparison, rate limiting (5 attempts/30s lockout), and secure secret handling without logging sensitive data.
- AdminDashboardView created as responsive foundation with navigation structure, ready for tabbed catalog management interface.
- AdminLoginView refined to enterprise standards: WCAG 2.1 AA accessibility compliance, comprehensive input sanitization, security monitoring, enhanced error handling, and theme-consistent responsive design.

## Blockers
- Escaneo de dependencias pendiente (T13) según decisión del usuario; se retomará cuando se priorice el barrido de seguridad.
- Sin nuevos bloqueadores identificados para Admin Teacher.
- 2025-11-12 — Ejecutado `./mvnw.cmd ... jacoco:report` para Admin Subject; pruebas corregidas y reporte generado conforme a T22.
